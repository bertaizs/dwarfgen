<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>dwarf name generator</title>
		
		<script src="namegen.js"></script>
		<script src="dwarf.js"></script>
		<script>
			// generates a dwarven name :)
			function gen() {
				var name = randomName();
				document.getElementById('output').innerHTML = '<p>'+ name +'</p>' + document.getElementById('output').innerHTML;
			}
			
			// resets the grammer to be used as per dwarf.js
			function defaultGrammar() {
				document.getElementById('grammar').value = JSON.stringify(grammar, null, 2);
				namegen.grammar = grammar;
			}

			// parses the textrea 'grammar' for JSON, and tells the name generator to use it for generating names
			function readGrammar() {
				try {
					var json = JSON.parse(document.getElementById('grammar').value);
					namegen.grammar = json;
					alert("thanks, let me use your grammar!")
				} catch( e ) {
					alert("invalid JSON format :()");
				}
			}
			
			// show or hides the textarea and the controls for defining custom grammars
			function showHide() {
				if( document.getElementById('generator').style.display == 'none' ) {
					document.getElementById('generator').style.display = 'inline'; 
					document.getElementById('showhide').value='simple mode';
				}
				else {
					document.getElementById('generator').style.display = 'none'; 
					document.getElementById('showhide').value='advanced mode';
				}
			}
		</script>

	</head>
<body>
	<h1>Dwarf name generator</h1>
		
	<p>
		In case you ever get into the situation where you <i>desperately</i> need to 
		generate dwarven names en mass, this is the right tool for you.
		The tool is based on a concept called <a href="">formal grammars</a>, where there are a set of rules for generating output strings.
		By default, we use <a href="dwarf.js">this grammar/ruleset</a> for generating dwarven names.
	</p>
	<p>
		You can customize how this tool works by clicking on the button 'advanced mode', 
		and you can write your own rules to follow
		<a href="https://tvtropes.org/pmwiki/pmwiki.php/Main/LukeNounverber">industry standard patterns</a>
		for fantasy names.
		You can even use the tool for 
		generating names for pointed-eared elves - do it at your own peril.
	</p>
	
	<p>Good luck & have fun generating lots of dwarven names! ROCK-AND-STONE!</p>
		<input type="button" value="give me a random name!" onclick="gen();"/>
		<input type="button" onclick="document.getElementById('output').innerHTML = '&nbsp;<br/>';" value="clear output" id="clear">
		<input type="button" onclick="showHide();" value="advanced mode" id="showhide">
	<hr/>
		<div id='output' style="color: blue;">&nbsp;<br/></div>
	
	<div id="generator" style="display: none;"><br/>
	<hr/>
		<p>
		This dwarf name generator consists of two parts: 
		a JavaScript library (<a href="namegen.js">namgen.js</a>) which can generate names based on a formal grammar, and 
		a <a href="dwarf.js">a formal grammar for generating dwarven names</a>.
		Feel free to use the library under 
		<a href="https://www.gnu.org/licenses/gpl-3.0.html">GNU GPL</a>.
		All code is available on <a href="https://github.com/bertaizs/dwarfgen">GitHub</a>.
		</p>
		
		<p>
		You can also play with the library and the grammar to generate any names you want.
		</p>

		The below grammar (describes as JSON code) describes the ruleset of how 
		the names are generated:
		<br/>
		
		<textarea id="grammar" cols=80 rows=20></textarea>
		<br/>
		<input type="button" onclick="defaultGrammar();" value="default dwarf mode">
		<input type="button" onclick="readGrammar();" value="use above grammar">


		<p>Examples:</p>
		<p>
			The following JSON will always return the name <i>Bruenor</i>.
			<pre>{ "/": { "Bruenor": 1 } }</pre>
		</p>
		
		<p>
			The following JSON will can produce <i>Bruenor</i> or <i>Gimli, son of Bruenor</i> or <i>Gimli, son of Gimli, son of Bruenor</i>, etc. with potentially an infinite amount of Gimlis in the line.
			<pre>{ "/": { "Bruenor": 2, "Gimli, son of {/}": 1 } }</pre>
		</p>
		
		<p>
			You may want to generate names of pointed-eared elves, whose first names start with 'e' and the surnames consists of a celestial body and a weapon (with a heavy bias towards ranged weapons, of course).
			<pre>{ 
  "/": { "E{first} {Celestial}{weapon}": 1},
  "celestial": {"Sun": 1, "Moon": 2, "Star": 1},
  "weapon": {"sword": 1, "bow": 2, "arrow": 2, "spear": 1},
  "first": {"gon": 1, "lgondol": 1, "losh": 1, "lwar": 1}
}</pre>
		</p>



	</div>
	
	<script>
		defaultGrammar();

		
		gen();
	</script>	

<div style="color: lightgray">
<hr/>
dwarfgen - from <a href="https://berta.hu">berta.hu</a> - 2019
</div>


</body>
</html>
